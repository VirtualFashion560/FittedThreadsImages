<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Try-On</title>
<style>
body { font-family:'Poppins',sans-serif; text-align:center; background:#f7f3ee; color:#4b3221; padding:20px;}
h1 { font-family:'Pacifico',cursive; font-size:2.8rem; color:#6e4b26; margin-bottom:0.5em;}
img { max-width:250px; max-height:250px; border-radius:12px; margin:10px;}
video { max-width:400px; margin:10px; border-radius:12px; }
</style>
</head>
<body>

<h1>AI Virtual Try-On</h1>

<div id="uploaded-previews">
<h2>Your Uploads</h2>
<img id="selfPreview" src="" alt="Self">
<img id="clothPreview" src="" alt="Clothing">
</div>

<div>
<h2>AI Try-On Image</h2>
<img id="aiImage" src="" alt="AI Result">
</div>

<div>
<h2>AI Try-On Video</h2>
<video id="aiVideo" controls></video>
</div>

<script>
async function generateTryOn() {
const self = localStorage.getItem('selfImage');
const clothing = localStorage.getItem('clothImage');

document.getElementById('selfPreview').src = self;
document.getElementById('clothPreview').src = clothing;

const resp = await fetch('/api/generate-tryon', {
method:'POST',
headers:{'Content-Type':'application/json'},
body:JSON.stringify({self, clothing})
});

const data = await resp.json();
document.getElementById('aiImage').src = data.aiImage;
document.getElementById('aiVideo').src = data.aiVideo;
}

generateTryOn();
</script>
</body>
</html>
