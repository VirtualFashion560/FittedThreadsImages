<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fitted Threads Try-On</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<style>
body {
margin:0;
font-family:'Poppins',sans-serif;
background:linear-gradient(135deg,#a46237,#d9b382);
color:#4b3221;
text-align:center;
padding:20px;
}
h1 {
font-family:'Pacifico',cursive;
font-size:3rem;
margin-bottom:0.3em;
color:#6e4b26;
}
.slogan {
font-style:italic;
font-weight:600;
color:#7a5a34;
font-size:1.2rem;
margin-bottom:1em;
}
.preview-container {
display:flex;
justify-content:center;
gap:20px;
flex-wrap:wrap;
margin:20px 0;
}
.preview-box {
position:relative;
}
.preview-img {
width:250px;
height:250px;
border-radius:12px;
object-fit:cover;
border:2px solid #6e4b26;
}
#aiPreview {
width:250px;
height:250px;
border-radius:12px;
object-fit:cover;
border:2px solid #4b3221;
margin-top:20px;
}
.btn {
padding:12px 25px;
margin:20px 10px;
font-size:1.1rem;
font-weight:600;
border:none;
border-radius:8px;
cursor:pointer;
background-color:#6e4b26;
color:#fff;
transition:0.3s;
}
.btn:hover {
background-color:#7a5a34;
}
.section {
background: rgba(217,179,130,0.85);
padding:1.5em 2em;
border-radius:12px;
max-width:700px;
margin:2em auto;
color:#4b3221;
text-align:center;
box-shadow:0 0 10px rgba(141,102,58,0.3);
}
.section h2 {
font-size:1.8rem;
margin-bottom:1em;
color:#6e4b26;
}
</style>
</head>
<body>

<h1>Fitted Threads Try-On</h1>
<p class="slogan">See Yourself in Your Favorite Outfits</p>

<div class="preview-container">
<div class="preview-box">
<h3>Your Photo</h3>
<img id="selfPreview" class="preview-img" src="">
</div>
<div class="preview-box">
<h3>Clothing / Accessory</h3>
<img id="clothingPreview" class="preview-img" src="">
</div>
</div>

<div class="section">
<h2>AI Try-On Preview</h2>
<p>AI integrates your clothing onto your photo:</p>
<canvas id="aiCanvas" width="250" height="250" style="border:2px solid #4b3221; border-radius:12px;"></canvas>
</div>

<div>
<button class="btn" id="backBtn">Back to Upload</button>
</div>

<script>
// Elements
const selfPreview = document.getElementById('selfPreview');
const clothingPreview = document.getElementById('clothingPreview');
const aiCanvas = document.getElementById('aiCanvas');
const ctx = aiCanvas.getContext('2d');

// Load images from localStorage
const selfImage = localStorage.getItem('selfImage');
const clothingImage = localStorage.getItem('clothingImage');

if(!selfImage || !clothingImage){
alert("No images found. Please upload photos first.");
window.location.href = "index.html";
} else {
selfPreview.src = selfImage;
clothingPreview.src = clothingImage;

// Draw AI try-on
const selfImg = new Image();
const clothingImg = new Image();
selfImg.src = selfImage;
clothingImg.src = clothingImage;

selfImg.onload = () => {
clothingImg.onload = () => {
// Set canvas to match self image size
aiCanvas.width = selfImg.width;
aiCanvas.height = selfImg.height;

// Draw user photo
ctx.drawImage(selfImg, 0, 0, selfImg.width, selfImg.height);

// Overlay clothing resized to same size as self photo
ctx.globalAlpha = 0.7;
ctx.drawImage(clothingImg, 0, 0, selfImg.width, selfImg.height);

ctx.globalAlpha = 1;
}
}
}

// Back button
document.getElementById('backBtn').addEventListener('click', () => {
window.location.href = "index.html";
});
</script>

</body>
</html>
