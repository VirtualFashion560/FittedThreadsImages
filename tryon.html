<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Virtual Try-On</title>
<style>
/* Add your CSS styles here */
</style>
</head>
<body>
<h1>Virtual Try-On</h1>
<input type="file" id="selfImageInput" accept="image/*">
<input type="file" id="clothingImageInput" accept="image/*">
<button id="generateBtn">Generate Try-On</button>
<div id="output">
<img id="selfImage" src="" alt="Self Image" style="display:none;">
<img id="clothingImage" src="" alt="Clothing Image" style="display:none;">
<img id="tryOnResult" src="" alt="Try-On Result" style="display:none;">
</div>

<script>
const selfImageInput = document.getElementById('selfImageInput');
const clothingImageInput = document.getElementById('clothingImageInput');
const generateBtn = document.getElementById('generateBtn');
const selfImage = document.getElementById('selfImage');
const clothingImage = document.getElementById('clothingImage');
const tryOnResult = document.getElementById('tryOnResult');

let selfImageData = null;
let clothingImageData = null;

selfImageInput.addEventListener('change', (e) => {
const file = e.target.files[0];
if (file) {
selfImageData = URL.createObjectURL(file);
selfImage.src = selfImageData;
selfImage.style.display = 'block';
}
});

clothingImageInput.addEventListener('change', (e) => {
const file = e.target.files[0];
if (file) {
clothingImageData = URL.createObjectURL(file);
clothingImage.src = clothingImageData;
clothingImage.style.display = 'block';
}
});

generateBtn.addEventListener('click', async () => {
if (!selfImageData || !clothingImageData) {
alert('Please upload both images.');
return;
}

try {
const response = await fetch('https://api.segmind.com/v1/try-on-diffusion', {
method: 'POST',
headers: {
'Authorization': 'Bearer YOUR_API_KEY',
'Content-Type': 'application/json'
},
body: JSON.stringify({
person_image_url: selfImageData,
clothing_image_url: clothingImageData
})
});

const data = await response.json();
if (data.generated_image_url) {
tryOnResult.src = data.generated_image_url;
tryOnResult.style.display = 'block';
} else {
alert('Error generating try-on image.');
}
} catch (error) {
console.error('Error:', error);
alert('An error occurred while generating the try-on image.');
}
});
</script>
</body>
</html>
